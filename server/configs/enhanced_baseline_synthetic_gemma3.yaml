run_name: "ENHANCED_BASELINE_SYNTHETIC_GEMMA3"
dataset: "synthetic_gemma3"
qa_base_url: "http://localhost:8000"

# ============================================================
# GSO ENHANCED BASELINE
# ============================================================
# Kombiniert alle GSO-Gewinner:
# - Semantic Chunking (OFAT Winner)
# - Qwen3-Embedding:4b (OFAT Winner)
# - Qwen2.5:7b-instruct (GSO S3 - bessere LLM-Judge Scores)
# - CoT Prompt (GSO S3/S4 - +9.7% llm_faithfulness)
# - Kein Reranking (GSO S2 - Latenz > Qualit√§t)
# ============================================================

qa_payload:
  query: null
  top_k: 5
  use_hyde: false
  use_rerank: false
  rerank_top_n: 50
  model: "qwen2.5:7b-instruct"
  process_name: null    
  process_id: null        
  roles: []
  whitelist_enabled: false 
  tags: []
  prompt_style: "cot"
  gating_hint: ""         
  debug_return: true

factors:
  retrieval: 
    mode: "hybrid"
    rrf_k: 60
  
  rerank: 
    enabled: false
    model: "BAAI/bge-reranker-v2-m3"
    top_n: 20
  
  # GSO Foundation: Semantic Chunking (OFAT Winner)
  chunking: 
    max_characters: 2400
    strategy: "semantic"
  
  # GSO Foundation: Qwen3 Embeddings (OFAT Winner)
  embeddings: 
    backend: "ollama"
    model: "qwen3-embedding:4b"
    index_suffix: "semantic_qwen3"
  
  # GSO S3/S4 Winner: Qwen2.5 + CoT
  llm:
    qa:
      model: "qwen2.5:7b-instruct"
      num_ctx: 8192
  
  prompt:
    style: "cot"
  
  evaluation:
    use_llm_judge: true
    llm_metrics: ["consistency", "relevance", "faithfulness"]
    judge_model: "atla/selene-mini"
    judge_temperature: 0.0
    semantic_sim_model: "embeddinggemma:latest"
    bertscore_model: "deepset/gbert-large"

metrics:
  primary:
    - recall@5
    - ndcg@5
    - factual_consistency_normalized
    - llm_answer_relevance
    - llm_context_relevance
    - llm_faithfulness
    - semantic_sim
  
  secondary:
    - recall@3
    - recall@10
    - mrr@5
    - bertscore_f1
    - content_f1
    - citation_recall

ranking_sources: ["ce", "rrf"]
ranking_fallback_all: true

logging:
  save_prompt: true
  save_context: true
  save_scores: true